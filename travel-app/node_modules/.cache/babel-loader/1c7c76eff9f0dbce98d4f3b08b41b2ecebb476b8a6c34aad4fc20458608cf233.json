{"ast":null,"code":"import React from'react';import jwt from'jsonwebtoken';// Import jsonwebtoken\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const getToken=()=>{return localStorage.getItem('token');// Retrieve the token from localStorage\n};const AdminPanel=()=>{// Function to check if the user is an admin\nconst isAdmin=()=>{const token=getToken();// Retrieve token from localStorage\n// Check if the token exists\nif(token){try{const decodedToken=jwt.decode(token);// Decode the token\n// Check if the decoded token contains the 'role' field and if its value is 'admin'\nreturn decodedToken&&decodedToken.role==='admin';}catch(error){console.error('Error decoding token:',error);return false;}}else{return false;}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Panel\"}),isAdmin()&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Users\"})})]});};export default AdminPanel;","map":{"version":3,"names":["React","jwt","jsx","_jsx","jsxs","_jsxs","getToken","localStorage","getItem","AdminPanel","isAdmin","token","decodedToken","decode","role","error","console","children"],"sources":["D:/Work/Travel-WebApp/travel-app/src/AdminFlights.js"],"sourcesContent":["import React from 'react';\r\nimport jwt from 'jsonwebtoken'; // Import jsonwebtoken\r\n\r\nconst getToken = () => {\r\n  return localStorage.getItem('token'); // Retrieve the token from localStorage\r\n}\r\n\r\nconst AdminPanel = () => {\r\n  // Function to check if the user is an admin\r\n  const isAdmin = () => {\r\n    const token = getToken(); // Retrieve token from localStorage\r\n\r\n    // Check if the token exists\r\n    if (token) {\r\n      try {\r\n        const decodedToken = jwt.decode(token); // Decode the token\r\n\r\n        // Check if the decoded token contains the 'role' field and if its value is 'admin'\r\n        return decodedToken && decodedToken.role === 'admin';\r\n      } catch (error) {\r\n        console.error('Error decoding token:', error);\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Admin Panel</h1>\r\n      {isAdmin() && (\r\n        <div>\r\n          <h2>Delete Users</h2>\r\n          {/* Add UI elements for deleting users */}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,GAAG,KAAM,cAAc,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,MAAO,CAAAC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AACxC,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB;AACA,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,KAAK,CAAGL,QAAQ,CAAC,CAAC,CAAE;AAE1B;AACA,GAAIK,KAAK,CAAE,CACT,GAAI,CACF,KAAM,CAAAC,YAAY,CAAGX,GAAG,CAACY,MAAM,CAACF,KAAK,CAAC,CAAE;AAExC;AACA,MAAO,CAAAC,YAAY,EAAIA,YAAY,CAACE,IAAI,GAAK,OAAO,CACtD,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,MAAO,MAAK,CACd,CACF,CAAC,IAAM,CACL,MAAO,MAAK,CACd,CACF,CAAC,CAED,mBACEV,KAAA,QAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CAAI,aAAW,CAAI,CAAC,CACnBP,OAAO,CAAC,CAAC,eACRP,IAAA,QAAAc,QAAA,cACEd,IAAA,OAAAc,QAAA,CAAI,cAAY,CAAI,CAAC,CAElB,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}